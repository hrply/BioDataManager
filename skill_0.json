{
  "skill_0_调度中心": {
    "description": "内测调度中心 - 根据当前状态决定调用哪个 skill",
    "state_machine": {
      "start": {
        "action": "检查是否已有测试计划",
        "transitions": [
          {"if": "无计划", "then": "skill_2a_计划撰写"},
          {"if": "有计划无索引", "then": "skill_2b_索引创建"},
          {"if": "有计划有索引", "then": "判断下一步操作"}
        ]
      },
      "判断下一步操作": {
        "action": "根据用户意图或测试轮次决定",
        "intents": {
          "发现问题": {
            "keywords": ["测试", "检查", "验证", "渲染", "字段"],
            "next": "skill_1_问题发现"
          },
          "分析问题": {
            "keywords": ["原因", "根因", "分析", "为什么"],
            "next": "skill_3_问题分析"
          },
          "修复验证": {
            "keywords": ["修复", "验证", "回归", "确认"],
            "next": "skill_4_修复验证"
          },
          "查询计划": {
            "keywords": ["用例", "计划", "查询", "第几轮"],
            "next": "skill_2c_计划查询"
          },
          "循环管理": {
            "keywords": ["进度", "统计", "追踪", "轮次"],
            "next": "skill_5_循环管理"
          },
          "制定计划": {
            "keywords": ["计划", "用例", "范围"],
            "next": "skill_2a_计划撰写"
          },
          "创建索引": {
            "keywords": ["索引", "建立索引"],
            "next": "skill_2b_索引创建"
          }
        }
      }
    },
    "routing_logic": {
      "user_input_analysis": {
        "method": "提取关键词 + 意图分类",
        "examples": [
          {"input": "检查原始数据详情页字段渲染是否正确", "intent": "发现问题", "next": "skill_1"},
          {"input": "为什么 tags 字段没有渲染", "intent": "分析问题", "next": "skill_3"},
          {"input": "修复后需要回归测试哪些用例", "intent": "修复验证", "next": "skill_4"},
          {"input": "第2轮有哪些测试用例", "intent": "查询计划", "next": "skill_2c"},
          {"input": "现在内测进度怎么样了", "intent": "循环管理", "next": "skill_5"}
        ]
      },
      "round_based_routing": {
        "round_1": {
          "focus": "冒烟测试 - 核心功能",
          "suggested_skills": ["skill_1", "skill_3"]
        },
        "round_2": {
          "focus": "功能测试 - 完整流程",
          "suggested_skills": ["skill_1", "skill_3", "skill_4"]
        },
        "round_3": {
          "focus": "边界测试 - 异常情况",
          "suggested_skills": ["skill_1", "skill_4"]
        },
        "round_N": {
          "focus": "回归测试 - 修复验证",
          "suggested_skills": ["skill_4", "skill_5", "skill_2c"]
        }
      }
    },
    "context_persistence": {
      "storage": "internal_testing_context.json",
      "fields": [
        "current_round",
        "total_rounds",
        "plan_exists",
        "index_exists",
        "problem_count",
        "fixed_count",
        "open_problems"
      ],
      "update_after": ["skill_4", "skill_5"]
    },
    "output": {
      "next_skill": "应该调用的下一个 skill 名称",
      "params": "传递给下一个 skill 的参数",
      "reason": "为什么选择这个 skill"
    }
  }
}
